% function [r_props,cr_errorMessages ]=mes_getSFVariableProps(h_chart,s_varname[,s_childPath, r_ops])
% gets the type, range and scaling of stateflow variables of Simulink and TargetLink Models
%
% Description:
%   gets properties of the variable 's_varname' from the stateflow chart 'h_chart'
%   used by Simulink/TargetLink model. If more than one variable with same name exist in the
%   chart, use the one that is closest to s_childPath.
%
% Syntax:
%   [r_props,cr_errorMessages]=mes_getSFVariableProps(h_chart,s_varname[,s_childPath])
%
% Input arguments
%  h_chart--handle of the chart
%  s_varname--string of name of the variable whos info will be extracted
%  s_childPath--string of a path, it can be the path of the function or
%   state in which the variable resides. Stateflow uses the variable
%   closest to the state or function.
%  r_ops-- options, has following fields
%    .signalname     (string) If the block is tl bus port, this argument is used to
%                    identify which signal will be retrieved
%    .li_muxvecind   if the signal is a vector, this is the index of
%                    signals to be retrieved. E.g[2 3 4]
%
% Return values
%  r_props: the properies defined in stateflow as struct
%     r_props.b_isfloat--is 1 if variable s_varname is a float variable
%               (single or double), otherwise 0
%     r_props.s_basetype--string with base type of variable s_varname
%             values: 'Bool','Int8','UInt8','Int16','UInt16','Int32''UInt32''Double''Single'
%     r_props.d_offset-- offset (bias) of variable s_varname, if s_varname is a floating-type variable, d_offset=0
%     r_props.s_class-- string with variable class of variable s_varname, if s_varname is a floating-type variable, class is empty
%            otherwise, it is the scope of the sf-Variable (in,out,built-in)
%     r_props.d_lsb
%     r_props.d_size
%     r_props.b_isBusObj
%     r_props.busdata -- (struct) Elementsof a bus signal
%     r_props.r_assuredrange-- range as specified in SF.Props.Range
%     r_props.s_scope
%     r_props.r_tlprops=r_tlprops;
%
% cr_errorMessages: cell array of structs with the following fields:
%      type: string ={'error','warning')
%      message: string
%
% Notes: data inheritance from simulink or targetlink objects appears not
% to be supported by Targetlink up to Version 2.3. Here, the variable is
% treated by Targetlink as being of type double (d_lsb=esp,d_offset=0,s_class='')
%
%***************************************************************
%Copyright: Model Engineering Solutions
%Revision:  $Rev: 14855 $
%Date:      $Date: 2020/07/31 16:10:12CEST $
%***************************************************************

function [r_props,cr_errorMessages]=mes_getSFVariableProps(h_chart,s_varname_org,s_childPath,r_ops)











































































































































































































































































































































































































































































































































































































































































































































































































































